<h1>Daten der Mitgliedschaft</h1>

<p>
  <strong>Mitgliedschaftsnummer:</strong>
  <%= @membership.id %>
</p>

<p>
  <strong>Startdatum:</strong>
  <%= @membership.startDate.strftime("%b %Y") %>
</p>

<p>
  <strong>Enddatum:</strong>
  <%= @membership.endDate ? @membership.endDate.strftime("%b %Y") : "" %>
</p>

<p>
  <strong>Verteilerstelle:</strong>
  <%= @membership.distribution_point.name %>
</p>

<p>
<strong>Probezeit:</strong>
  <%= @membership.is_trial_membership? %>
</p>
<br/>

<script type="text/javascript">
    $(document).ready(function() {
        $('#rich-table-payments').dataTable({
            "ordering": true
        });
    });
</script>

<h2>Eingegangene Zahlungen</h2>

<table id="rich-table-payments" class="table table-striped table-bordered">
  <thead>
  <tr>
    <th>Buchungsdatum</th>
    <th>Sender</th>
    <th>Buchungstext</th>
    <th>Betrag</th>
    <th>WÃ¤hrung</th>
    <th>Fehler</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>
  </thead>

  <tbody>
  <% @membership.transactions.each do |transaction| %>
    <tr>
      <td><%= transaction.entry_date %></td>
      <td><%= transaction.sender %></td>
      <td><%= transaction.description %></td>
      <td><%= transaction.amount %></td>
      <td><%= transaction.currency %></td>
      <td><%= transaction.status_message %></td>
      <td><%= link_to 'Show', transaction %></td>
      <td><%= link_to 'Edit', edit_transaction_path(transaction) %></td>
      <td><%= link_to 'Destroy', transaction, method: :delete, data: { confirm: 'Are you sure?' } %></td>
    </tr>
  <% end %>
  </tbody>
</table>

<h2>Preise</h2>

<script type="text/javascript">
    $(document).ready(function () {
        $('#rich-table-prices').dataTable({
            "ordering": true,
        });
    });
</script>

<table id="rich-table-prices" class="table table-striped table-bordered">
  <thead>
  <tr>
    <th>Jahr</th>
    <th>Monat</th>
    <th>Anteile</th>
    <th>Betrag</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>
  </thead>

  <tbody>
  <% @membership.prices.each do |price| %>
    <tr>
      <td><%= price.year %></td>
      <td><%= price.month %></td>
      <td><%= price.shares %></td>
      <td><%= price.amount %></td>
      <td><%= link_to 'Show', price %></td>
      <td><%= link_to 'Edit', edit_price_path(price) %></td>
      <td><%= link_to 'Destroy', price, method: :delete, data: { confirm: 'Are you sure?' } %></td>
    </tr>
  <% end %>
  </tbody>
</table>

<%= link_to 'Edit', edit_membership_path(@membership) %> |
<%= link_to 'Back', memberships_path %>
