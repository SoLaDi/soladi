<h1>Gebote</h1>

<script type="text/javascript">
    $(document).ready(function () {
        $('#bids-table').dataTable({
            "processing": true,
            "serverSide": true,
            "ordering": true,
            "stateSave": true,
            "pagingType": "full_numbers",
            "columns": [
                {"data": "membership_id"},
                {"data": "start_date"},
                {"data": "end_date"},
                {"data": "shares"},
                {"data": "amount"},
                {"data": "contract_signed"},
                {"data": "placed_by"},
                {"data": "details"},
                {"data": "edit"},
                {"data": "delete"},
            ]
        });
    });
</script>

<table id="bids-table" class="table table-striped table-bordered">
  <thead>
  <tr>
    <th>Mitgliedschaft</th>
    <th>Start</th>
    <th>Ende</th>
    <th>Anteile</th>
    <th>Betrag</th>
    <th>Vereinbarung unterschrieben</th>
    <th>Abgegeben von</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>
  </thead>

  <tbody>
  </tbody>
</table>

<br>

<%= link_to 'Neues Gebot anlegen', new_bid_path %>

<br>
<br>

<div class="card">
  <h3 class="card-header">Aktionen</h3>
  <div class="card-body">
    <%= button_to('Gebote als CSV exportieren', { :action => :export_csv, format: 'csv' }, { type: "button", class: 'btn btn-outline-primary', method: :get }) %>
    <br/>
    <h5>Gebote importieren</h5>
    <div class="alert alert-info" role="alert">
      CSV Datei (komma-getrennt) mit Feldern: membership_id, fiscal_year, shares, price_per_share
    </div>
    <%= form_tag import_bids_path, multipart: true do %>
      <%= file_field_tag :file %>
      <%= submit_tag "CSV importieren" %>
    <% end %>

  </div>
</div>
